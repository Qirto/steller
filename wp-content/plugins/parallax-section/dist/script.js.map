{"version":3,"file":"script.js","mappings":"yBAAA,IAAI,EAA+BA,GAAGC,QCoBtC,EApBc,SAAC,GAA6B,IAA3BC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,SACpBC,EAA6DF,EAA7DE,cAAeC,EAA8CH,EAA9CG,UAAWC,EAAmCJ,EAAnCI,WAAYC,EAAuBL,EAAvBK,UAAWC,EAAYN,EAAZM,QAEzD,OAAO,kCAAOC,wBAAyB,CACtCC,OAAQ,oCACcP,EADd,gCAEOI,EAFP,6CAIcJ,EAJd,yDAKYC,EALZ,gCAMOC,EANP,gCAOOE,EAPP,8BAQIC,aAAA,EAAAA,EAASG,SAAU,YARvB,6CAUcR,EAVd,qCAWLG,aAAA,EAAAA,EAAYK,SAAU,GAXjB,iBAaNC,QAAQ,OAAQ,SCjBdC,EAAe,SAACC,EAAIC,GAAgC,IAAtBC,EAAsB,wDACnDC,EAAQC,WAAWJ,EAAGK,QAAQF,OAC9BG,EAAgBJ,GAAaK,OAAOC,QACpCC,EAAeF,OAAOG,YACtBC,EAAeV,EAASW,aACxBC,EAAkBZ,EAASa,UAG3BC,EAAYT,EAAgBG,EAGlC,GAAIM,EAAYF,GAAmBP,EAAgBO,EAAkBF,EAAc,CAElF,IAAMK,GAAcD,EAAYF,GAAmBV,EAE7Cc,EAASR,EAAeE,EAE1BO,EAAeF,EAAYC,EAAU,KAAQ,GAAc,GAARd,GAGvDH,EAAGmB,MAAMC,IAAMF,EAAa,IAC5BlB,EAAGmB,MAAME,UAAY,oBAAsBH,EAAa,OCd1DI,SAASC,iBAAiB,oBAAoB,WAClBD,SAASE,iBAAiB,0BAClCC,SAAQ,SAAAC,GAC1B,MAAgCC,KAAKC,MAAMF,EAAgBrB,QAAQwB,OAA3DzC,EAAR,EAAQA,WAAY0C,EAApB,EAAoBA,SAEpBC,EAAAA,EAAAA,QAAO,yBAACC,EAAD,CAAiB5C,WAAYA,EAAY0C,QAASA,IAAaJ,GAEtEA,SAAAA,EAAiBO,gBAAgB,oBAInC,IAAMD,EAAkB,SAAC,GAA4B,IAA1B5C,EAA0B,EAA1BA,WAAY0C,EAAc,EAAdA,QAC9BI,EAAe9C,EAAf8C,IAAK/B,EAAUf,EAAVe,MAEPgC,GAAgBC,EAAAA,EAAAA,QAAO,MAU7B,OARAC,EAAAA,EAAAA,YAAU,WACTtC,EAAaoC,EAAcG,QAASH,EAAcG,QAAQC,eAE1DjB,SAASC,iBAAiB,UAAU,WACnCxB,EAAaoC,EAAcG,QAASH,EAAcG,QAAQC,oBAEzD,IAEI,kDACN,yBAAC,EAAD,CAAOnD,WAAYA,EAAYC,SAAU6C,IAEzC,gCAAKM,UAAU,iBAAiB,aAAYrC,EAAOsC,IAAKN,IAExD,gCAAKK,UAAU,qBAAqB7C,wBAAyB,CAAEC,OAAQkC,O","sources":["webpack://parallax-section/external var [\"wp\",\"element\"]","webpack://parallax-section/./src/Style.js","webpack://parallax-section/./src/Const/functions.js","webpack://parallax-section/./src/script.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = wp.element;","const Style = ({ attributes, clientId }) => {\r\n\tconst { verticalAlign, textAlign, background, minHeight, padding } = attributes;\r\n\r\n\treturn <style dangerouslySetInnerHTML={{\r\n\t\t__html: `\r\n\t\t#psbParallaxSection-${clientId}{\r\n\t\t\tmin-height: ${minHeight};\r\n\t\t}\r\n\t\t#psbParallaxSection-${clientId} .psbParallaxSection{\r\n\t\t\tjustify-content: ${verticalAlign};\r\n\t\t\ttext-align: ${textAlign};\r\n\t\t\tmin-height: ${minHeight};\r\n\t\t\tpadding: ${padding?.styles || '20px 30px'};\r\n\t\t}\r\n\t\t#psbParallaxSection-${clientId} .psbParallaxImg{\r\n\t\t\t${background?.styles || ''}\r\n\t\t}\r\n\t\t`.replace(/\\s+/g, ' ')\r\n\t}} />\r\n}\r\nexport default Style;","const parallaxInit = (el, parentEl, scrollTop = false) => {\r\n\tconst speed = parseFloat(el.dataset.speed);\r\n\tconst windowScrollY = scrollTop || window.scrollY;\r\n\tconst windowHeight = window.innerHeight;\r\n\tconst parentHeight = parentEl.clientHeight;\r\n\tconst parentOffsetTop = parentEl.offsetTop;\r\n\r\n\t// The next pixel to show on screen\r\n\tconst winBottom = windowScrollY + windowHeight;\r\n\r\n\t// If block is shown on screen\r\n\tif (winBottom > parentOffsetTop && windowScrollY < parentOffsetTop + parentHeight) {\r\n\t\t// Number of pixels shown after block appear\r\n\t\tconst imgBottom = ((winBottom - parentOffsetTop) * speed);\r\n\t\t// Max number of pixels until block disappear\r\n\t\tconst imgTop = windowHeight + parentHeight;\r\n\t\t// Percentage between start showing until disappearing\r\n\t\tlet imgPercent = ((imgBottom / imgTop) * 100) + (50 - (speed * 50));\r\n\r\n\t\t// Set the style\r\n\t\tel.style.top = imgPercent + '%';\r\n\t\tel.style.transform = 'translate(-50%, -' + imgPercent + '%)';\r\n\t}\r\n}\r\nexport { parallaxInit }","import { render, useEffect, useRef } from '@wordpress/element';\r\n\r\nimport './style.scss';\r\nimport Style from './Style';\r\nimport { parallaxInit } from './Const/functions';\r\n\r\n// Parallax Section\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tconst allParallaxSection = document.querySelectorAll('.wp-block-psb-parallax');\r\n\tallParallaxSection.forEach(parallaxSection => {\r\n\t\tconst { attributes, content } = JSON.parse(parallaxSection.dataset.props);\r\n\r\n\t\trender(<ParallaxSection attributes={attributes} content={content} />, parallaxSection);\r\n\r\n\t\tparallaxSection?.removeAttribute('data-props');\r\n\t});\r\n});\r\n\r\nconst ParallaxSection = ({ attributes, content }) => {\r\n\tconst { cId, speed } = attributes;\r\n\r\n\tconst parallaxImgEl = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tparallaxInit(parallaxImgEl.current, parallaxImgEl.current.parentElement);\r\n\r\n\t\tdocument.addEventListener('scroll', () => {\r\n\t\t\tparallaxInit(parallaxImgEl.current, parallaxImgEl.current.parentElement);\r\n\t\t});\r\n\t}, [])\r\n\r\n\treturn <>\r\n\t\t<Style attributes={attributes} clientId={cId} />\r\n\r\n\t\t<div className='psbParallaxImg' data-speed={speed} ref={parallaxImgEl} />\r\n\r\n\t\t<div className='psbParallaxSection' dangerouslySetInnerHTML={{ __html: content }} />\r\n\t</>;\r\n}"],"names":["wp","element","attributes","clientId","verticalAlign","textAlign","background","minHeight","padding","dangerouslySetInnerHTML","__html","styles","replace","parallaxInit","el","parentEl","scrollTop","speed","parseFloat","dataset","windowScrollY","window","scrollY","windowHeight","innerHeight","parentHeight","clientHeight","parentOffsetTop","offsetTop","winBottom","imgBottom","imgTop","imgPercent","style","top","transform","document","addEventListener","querySelectorAll","forEach","parallaxSection","JSON","parse","props","content","render","ParallaxSection","removeAttribute","cId","parallaxImgEl","useRef","useEffect","current","parentElement","className","ref"],"sourceRoot":""}